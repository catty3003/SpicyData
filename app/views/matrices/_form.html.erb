<%= form_for(@matrix) do |f| %>
  <% if @matrix.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@matrix.errors.count, "error") %> prohibited this matrix from being saved:</h2>

      <ul>
      <% @matrix.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<div class="well">          
  <div class="panel panel-info">
    <div class="panel-body">  

  <div class="form-group">
    <%= f.label :"Matrix common name" %><br>
    <%= f.collection_select :adminmatrixname_id, Adminmatrixname.all.order(:m_common_name), :id, :m_common_name, {include_blank: true}, {class: "form-control"} %>
  </div>

  <div class="field">
    <%= f.label :"Matrix genus" %><br>
    <%= f.collection_select :adminmatrixgenu_id, Adminmatrixgenu.all.order(:m_genus), :id, :m_genus, {include_blank: true}, {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.label :"Matrix species" %><br>
    <%= f.collection_select :adminmatrixspec_id, Adminmatrixspec.all.order(:m_species), :id, :m_species, {include_blank: true}, {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.label :other_matrix_name %><br>
    <%= f.text_field :other_matrix_name, :placeholder=>"if no matrix name above match"   %>
  </div>
  <div class="field">
    <%= f.label :"Plant part" %><br>
    <%= f.collection_select :adminmatrixplantpart_id, Adminmatrixplantpart.all.order(:plant_part), :id, :plant_part, {include_blank: true}, {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.label :"Storage form" %><br>
    <%= f.collection_select :adminmatrixstorageform_id, Adminmatrixstorageform.all.order(:storage_form), :id, :storage_form, {include_blank: true}, {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.label :adminmatrixproductform_id %><br>
    <%= f.collection_select :adminmatrixproductform_id, Adminmatrixproductform.all.order(:product_form), :id, :product_form, {include_blank: true}, {class: "form-control"} %>
  </div>
  <div class="field">
    <%= f.label :place_of_origin %><br>
    <%= f.text_field :place_of_origin %>
  </div>
  <div class="field">
    <%= f.label :date_of_harvest %><br>
    <%= f.date_select :date_of_harvest %>
  </div>
  <div class="field">
    <%= f.label :relative_humidity_during_harvest %><br>
    <%= f.text_field :relative_humidity_during_harvest %>
  </div>
  <div class="field">
    <%= f.label :temperature_during_harvest %><br>
    <%= f.text_field :temperature_during_harvest %>
  </div>
  <div class="field">
    <%= f.label :pre_treatment %><br>
    <%= f.text_field :pre_treatment %>
  </div>
  <div class="field">
    <%= f.label :sampling_date %><br>
    <%= f.date_select :sampling_date %>
  </div>
  <div class="field">
    <%= f.label :m_ph %><br>
    <%= f.text_field :m_ph %>
  </div>
  <div class="field">
    <%= f.label :m_aw %><br>
    <%= f.text_field :m_aw %>
  </div>
  <div class="field">
    <%= f.label :humidity_of_matrix %><br>
    <%= f.text_field :humidity_of_matrix %>
  </div>
  <div class="field">
    <%= f.label :ash %><br>
    <%= f.text_field :ash %>
  </div>
  <div class="field">
    <%= f.label :sand %><br>
    <%= f.text_field :sand %>
  </div>
  <div class="field">
    <%= f.label :lipids %><br>
    <%= f.text_field :lipids %>
  </div>
  <div class="field">
    <%= f.label :further_ingredients %><br>
    <%= f.text_field :further_ingredients %>
  </div>
  <div class="field">
    <%= f.label :m_comment %><br>
    <%= f.text_area :m_comment %>
  </div>
  <div class="field">
    <%= f.label :reference_id %><br>
    <%= f.select :reference_id, Reference.all.collect {|c| [ [c.first_author_name, c.year, c.title], c.id ] }, { :include_blank => true, :selected => @matrix.reference_id}, class: "form-control" %>
  </div> 
  <div class="field">
    <%= f.label :user_id %><br>
    <%= f.number_field :user_id %>
  </div>

    </div>
  </div>
  <div class="actions">
    <%= f.submit 'Save Matrix', class: "btn btn-success" %> | | 
    <%= link_to 'Cancel', matrices_path, class: "btn btn-danger" %>
  </div>
  <% end %>
</div>
